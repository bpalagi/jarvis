# electron-builder.yml

# The unique application ID
appId: com.user.jarvis

# The user-facing application name
productName: Jarvis

# Protocols configuration for deep linking
protocols:
    name: Jarvis Protocol
    schemes: 
        - jarvis

# List of files to be included in the app package
files:
    - src/**/*
    - package.json
    - jarvis_web/backend_node/**/*
    - '!**/node_modules/electron/**'
    - public/build/**/*

# Additional resources to be copied into the app's resources directory
extraResources:
    - from: jarvis_web/out
      to: out

asarUnpack:
    - "src/ui/assets/SystemAudioDump"
    - "**/node_modules/sharp/**/*"
    - "**/node_modules/@img/**/*"

# macOS specific configuration
mac:
    # The application category type
    category: public.app-category.utilities
    # Path to the .icns icon file
    icon: src/ui/assets/logo.icns
    # Minimum macOS version (supports both Intel and Apple Silicon)
    minimumSystemVersion: '11.0'
    target:
      - target: dmg
        arch: universal
      - target: zip
        arch: universal
